<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>无标题文档</title>
<style>
	*{ margin:0; padding:0;}
	#box{ margin:0 auto; width:800px; height:500px; border:1px solid #ccc;}
</style>
<script src="http://api.map.baidu.com/api?v=1.3"></script>
<script>
window.onload=function(){
	navigator.geolocation.watchPosition(function(pos){
		var map = new BMap.Map("box");
		var point = new BMap.Point(pos.coords.longitude, pos.coords.latitude);
		map.centerAndZoom(point, 15);
		
		var myIcon = new BMap.Icon("http://developer.baidu.com/map/jsdemo/img/fox.gif", new BMap.Size(300,157));
		var marker2 = new BMap.Marker(point,{icon:myIcon});  // 创建标注
		map.addOverlay(marker2); 
	},function(){alert('111')});
};
</script>
</head>

<body>
<div id="box"></div>
</body>
</html>
